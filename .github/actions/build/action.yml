name: Audit and build app
description: Audit and build the app
runs:
    using: 'composite'
    steps:
        - name: Checkout code
          uses: actions/checkout@v3

        - name: Install pnpm
          uses: pnpm/action-setup@v4
          with:
              run_install: false

        - name: Use Node 22
          uses: actions/setup-node@v4
          with:
              node-version: '22'
              cache: 'pnpm'

        - name: Install dependencies
          shell: bash
          run: pnpm install

        - name: Check format
          shell: bash
          run: pnpm run format:check

        - name: Check lint
          shell: bash
          run: pnpm run lint

        - name: Build project
          shell: bash
          run: pnpm run build
